## GardenShop: Список задач (для ветки fix/gardenshop-tasks-part1)

- 12 [ X ]  JWT: заменить Scheduled, убрать роль у менеджера
Видимо, убрать автоматическую логику (cron?) и роль MANAGER из JWT-нагрузки.

- 13 [ X ]  Specification → getProduct — попробовать фильтрацию
Подключить фильтрацию через Specification API (например, по имени, цене и т.п.).

- 14 [ ] . CartException + @Transactional
Добавить исключение и обернуть метод с корзиной в @Transactional, чтобы избежать проблем с целостностью данных.

- 15 [ ] . if createCart — вернуть корзину, проверку в одной строке. Пример из инцидентов → единичный объект
Проверка: если корзина уже есть — вернуть её, иначе создать и вернуть. Всё в одном выражении.

- 16 [ ] . set<Cart> = entity.getCart().stream().filter(...) → findCartItemByProduct
Логика: пройтись по корзине, найти нужный товар по Product, если найден — обновить (например, количество).

- 17 [ ] Favorite на Set, find по двум полям
Структура избранного → хранить как Set<Favorite>, и поиск: по userId + productId.

- 18 [ ] Order сущностей:
Анимация (возможно, визуальное отображение на фронте — пока можно пропустить)

Cart (проверка структуры)

Model (возможно, уточнить, что имеется в виду)

Date (убедиться, что в заказе корректно сохраняется дата)

- 19 [ ] Найти продукты по скидке → promo
Реализовать фильтрацию или отдельный GET-запрос для вывода товаров со скидкой (Product.isPromo()?)

